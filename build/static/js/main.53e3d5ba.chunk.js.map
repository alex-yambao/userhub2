{"version":3,"sources":["components/header.jsx","auth/index.jsx","components/UserPosts.jsx","api/index.jsx","index.jsx"],"names":["Header","currentUser","setCurrentUser","userList","useState","selectedUser","setSelectedUser","useEffect","className","onSubmit","event","preventDefault","to","activeClassName","onClick","localStorage","removeItem","username","onChange","id","target","value","user","find","map","setItem","JSON","stringify","UserPosts","userPosts","title","body","BASE","a","axios","get","data","userId","App","setUserList","parse","getItem","setUserPosts","UserToDos","setUserToDos","getUsers","then","users","catch","error","console","getPostsByUser","posts","getTodosByUser","todos","path","exact","style","padding","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.53e3d5ba.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport { storeCurrentUser, clearCurrentUser } from \"../auth\";\r\n\r\nimport \"./header.css\";\r\n\r\nconst Header = ({ currentUser, setCurrentUser, userList }) => {\r\n  const [selectedUser, setSelectedUser] = useState();\r\n\r\n  useEffect(() => {\r\n    setSelectedUser(userList[0]);\r\n  }, [userList]);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const handleSelectChange = (event) => {\r\n    const id = event.target.value;\r\n    const user = userList.find((user) => user.id == id);\r\n    setSelectedUser(user);\r\n  };\r\n\r\n  const handleUserLogin = (event) => {\r\n    storeCurrentUser(selectedUser);\r\n    setCurrentUser(selectedUser);\r\n  };\r\n\r\n  const handleUserLogout = (event) => {\r\n    setSelectedUser(userList[0]);\r\n    clearCurrentUser();\r\n    setCurrentUser(null);\r\n  };\r\n\r\n  return (\r\n    <header>\r\n      <h1>Welcome to UserHub</h1>\r\n      <form className=\"user-select\" onSubmit={handleSubmit}>\r\n        {currentUser ? (\r\n          <>\r\n            <NavLink to=\"/posts\" activeClassName=\"current\">\r\n              POSTS\r\n            </NavLink>\r\n            <NavLink to=\"/todos\" activeClassName=\"current\">\r\n              TODOS\r\n            </NavLink>\r\n            <button onClick={handleUserLogout}>\r\n              LOG OUT, {currentUser.username}\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <select onChange={handleSelectChange}>\r\n              {userList.map((user) => (\r\n                <option key={user.id} value={user.id}>\r\n                  {user.username}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <button onClick={handleUserLogin}>LOG IN</button>\r\n          </>\r\n        )}\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","export function storeCurrentUser(user) {\r\n    localStorage.setItem('currentUser', JSON.stringify(user));\r\n  }\r\n  \r\n  export function getCurrentUser() {\r\n    const user = JSON.parse(localStorage.getItem('currentUser'));\r\n    return user;\r\n  }\r\n  \r\n  export function clearCurrentUser() {\r\n    localStorage.removeItem('currentUser');\r\n  }","import React from \"react\";\r\n\r\nimport \"./UserPosts.css\";\r\n\r\nconst UserPosts = ({ currentUser, userPosts }) => {\r\n  return (\r\n    <div className=\"user-posts\">\r\n      <h2> Posts By {currentUser.username} </h2>\r\n      {userPosts.map(({ id, title, body }) => (\r\n        <div key={id} className=\"post\">\r\n          <h3>{title}</h3>\r\n          <p>{body}</p>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPosts;","import axios from 'axios';\r\n\r\nconst BASE = 'https://jsonplace-univclone.herokuapp.com'\r\n\r\nexport async function getUsers() {\r\n  try {\r\n    const { data } = await axios.get(`${ BASE }/users`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getPostsByUser(userId) {\r\n  try {\r\n    const { data } = await axios.get(`${ BASE }/users/${ userId }/posts`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getTodosByUser(userId) {\r\n  try {\r\n    const { data } = await axios.get(`${ BASE }/users/${ userId }/todos`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\n\r\nimport { Header, UserPosts, UserToDos } from \"./components\";\r\nimport { getUsers, getPostsByUser, getTodosByUser } from \"./api\";\r\n\r\nimport { getCurrentUser } from \"./auth\";\r\n\r\nconst App = () => {\r\n  const [userList, setUserList] = useState([]);\r\n  const [currentUser, setCurrentUser] = useState(getCurrentUser());\r\n  const [userPosts, setUserPosts] = useState([]);\r\n  const [UserToDos, setUserToDos] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getUsers()\r\n      .then((users) => {\r\n        setUserList(users);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error)\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!currentUser) {\r\n      setUserPosts([]);\r\n      setUserToDos([]);\r\n      return;\r\n    }\r\n\r\n    getPostsByUser(currentUser.id)\r\n      .then((posts) => {\r\n        setUserPosts(posts);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error)\r\n      });\r\n\r\n    getTodosByUser(currentUser.id)\r\n      .then((todos) => {\r\n        setUserToDos(todos);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error)\r\n      });\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <Router>\r\n      <div id=\"App\">\r\n        <Header\r\n          userList={ userList }\r\n          currentUser={ currentUser }\r\n          setCurrentUser={ setCurrentUser } />\r\n        {\r\n          currentUser\r\n          ? <>\r\n              <Switch>\r\n                <Route path=\"/posts\">\r\n                  <UserPosts\r\n                    userPosts={ userPosts }\r\n                    currentUser={ currentUser } />\r\n                </Route>\r\n                <Route path=\"/todos\">\r\n                  <UserToDos\r\n                    UserToDos={ UserToDos }\r\n                    currentUser={ currentUser } />\r\n                </Route>\r\n                <Route exact path=\"/\">\r\n                  <h2 style={{\r\n                    padding: \".5em\"\r\n                  }}>Welcome, { currentUser.username }!</h2>\r\n                </Route>\r\n                <Redirect to=\"/\" />\r\n              </Switch>\r\n            </>\r\n          : <>\r\n              <Switch>\r\n                <Route exact path=\"/\">\r\n                  <h2 style={{\r\n                    padding: \".5em\"\r\n                  }}>Please log in, above.</h2>\r\n                </Route>\r\n                <Redirect to=\"/\" />\r\n              </Switch>\r\n            </>\r\n        }\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}